<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Страница товара</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
<div class="container py-3">
    <header>
        <div class="d-flex flex-column flex-md-row align-items-center pb-3 mb-4 border-bottom">
            <a href="/" class="d-flex align-items-center text-dark text-decoration-none">
                <span class="fs-4">SuperShop</span>
            </a>

            <nav class="d-inline-flex mt-2 mt-md-0 ms-md-auto">
                <a class="me-3 py-2 text-dark text-decoration-none" href="index.html">Товары</a>
                <a class="me-3 py-2 text-dark text-decoration-none" href="cart.html">Корзина</a>
            </nav>
        </div>
    </header>

    <main id="goodPage">
        <div class="bg-light p-5 rounded">
            <h1>Navbar example</h1>
            <img onclick="selectGood(0)" src="https://cs.petrovich.ru/images/97964/original-925x925-fit.jpg" class="card-img-top" alt="...">
            <p class="lead">This example is a quick exercise to illustrate how the top-aligned navbar works. As you scroll, this navbar remains in its original position and moves with the rest of the page.</p>
            <a class="btn btn-lg btn-primary" href="/docs/5.0/components/navbar/" role="button">View navbar docs &raquo;</a>
        </div>
    </main>

</div>
<script>
    const loadFromLocalStorage = () => {
        return JSON.parse(localStorage.getItem('current_good'));
    }

    const currentGood = loadFromLocalStorage();

    const drawGoodPage = (data) => {
        const page = document.getElementById('goodPage');
        page.innerHTML = `<div class="bg-light p-5 rounded"> \
                    <h1>${data.name}</h1> \
                    <img src="${data.img}" class="card-img-top" alt="..."> \
                        <p class="lead">Цена: ${data.price}</p> \
                        <p class="lead">Гарантия: ${data.warranty}</p> \
                        <p class="lead">Страна производитель: ${data.country}</p> \
                        <button onclick="addToCart()" class="btn btn-primary">Добавить в корзину</button> \
                        <select onchange="onChangeSelect(this)" class="mt-3 form-select" aria-label="Default select example">\
                          <option value="1">1</option>\
                          <option value="2">2</option>\
                          <option value="3">3</option>\
                        </select>\
                </div>`
    }

    function onChangeSelect(e) {
        currentGood.amount = e.value;
    }

    function addToCart() {
        if (localStorage.getItem(currentGood.name)) {
            localStorage.setItem(currentGood.name, parseInt(localStorage.getItem(currentGood.name)) + parseInt(currentGood.amount) + '')
        } else {
            localStorage.setItem(currentGood.name, currentGood.amount);
        }
    }

    drawGoodPage(currentGood);

</script>
</body>
</html>
</body>
</html>